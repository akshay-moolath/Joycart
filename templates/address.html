<title>Addresses</title>

<style>
  .address-container {
    max-width: 900px;
    margin: 20px auto;
    font-family: sans-serif;
  }

  .address-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 15px;
  }

  .address-card {
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 8px;
    background: #fafafa;
  }

  .address-card p {
    margin: 4px 0;
  }
</style>

<div class="address-container">
  <h2>Your Addresses</h2>
  <a href="/">Home</a><br><br>
  <a href ="/address/add">Add new address</a><br></br>

  <div class="address-grid">
    {% for ad in addresses %}
      <div class="address-card">
        <p><b>Name:</b> {{ ad.name }}</p>
        <p><b>Phone:</b> {{ ad.phone }}</p>
        <p><b>Address:</b> {{ ad.address_line1 }}</p>
        <p><b>City:</b> {{ ad.city }}</p>
        <p><b>State:</b> {{ ad.state }}</p>
        <p><b>Pincode:</b> {{ ad.pincode }}</p>
        <a href="/address/edit/{{ ad.id }}">
        <button type="button">Edit</button></a><br></br>
        {% if addresses|length > 1 %}
        <form action="/api/address/delete/{{ ad.id }}" method="post">
        <button type="submit" class="btn-delete">Delete</button></form>
        {% else %}
        <button class="btn-delete disabled" disabled
                title="At least one address is required"> Delete</button>
     {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
